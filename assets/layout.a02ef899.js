import{bp as E,bq as M,E as N,P as j,j as k,l as U,R as P,d as u,br as V,bs as y,bt as p,bu as z,i as w,bv as D,bw as S,bx as F,a1 as G,c as H,by as K,am as L,U as Y,m as B,J as q,w as C,M as I,o as _,ae as J,b as Z,a8 as Q,a3 as W,h as X}from"./index.b2875c3e.js";import{u as ee,a as te,B as ae,r as oe,b as ne,c as re,d as se,I as ce}from"./index.507d8ae3.js";import{_ as le}from"./_plugin-vue_export-helper.cdc0426e.js";function ie(e,{args:o=[],done:t,canceled:a}){if(e){const r=e.apply(null,o);E(r)?r.then(l=>{l?t():a&&a()}).catch(M):r?t():a&&a()}else t()}const ue=Symbol();function de(e){const o=N(ue,null);o&&j(o,t=>{t&&e()})}const me=(e,o)=>{const t=k(),a=()=>{t.value=ee(e).height};return U(()=>{if(P(a),o)for(let r=1;r<=3;r++)setTimeout(a,100*r)}),de(()=>P(a)),t};function be(e,o){const t=me(e,!0);return a=>u("div",{class:o("placeholder"),style:{height:t.value?`${t.value}px`:void 0}},[a()])}const[A,T]=V("tabbar"),fe={route:Boolean,fixed:y,border:y,zIndex:p,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:z(0),safeAreaInsetBottom:{type:Boolean,default:null}},O=Symbol(A);var ve=w({name:A,props:fe,emits:["change","update:modelValue"],setup(e,{emit:o,slots:t}){const a=k(),{linkChildren:r}=te(O),l=be(a,T),d=()=>{var s;return(s=e.safeAreaInsetBottom)!=null?s:e.fixed},n=()=>{var s;const{fixed:c,zIndex:i,border:b}=e;return u("div",{ref:a,role:"tablist",style:D(i),class:[T({fixed:c}),{[ae]:b,"van-safe-area-bottom":d()}]},[(s=t.default)==null?void 0:s.call(t)])};return r({props:e,setActive:(s,c)=>{ie(e.beforeChange,{args:[s],done(){o("update:modelValue",s),o("change",s),c()}})}}),()=>e.fixed&&e.placeholder?l(n):n()}});const _e=S(ve),[he,h]=V("tabbar-item"),pe=F({},oe,{dot:Boolean,icon:String,name:p,badge:p,badgeProps:Object,iconPrefix:String});var ge=w({name:he,props:pe,emits:["click"],setup(e,{emit:o,slots:t}){const a=ne(),r=G().proxy,{parent:l,index:d}=re(O);if(!l)return;const n=H(()=>{var c;const{route:i,modelValue:b}=l.props;if(i&&"$route"in r){const{$route:v}=r,{to:f}=e,m=K(f)?f:{path:f};return!!v.matched.find(x=>{const R="path"in m&&m.path===x.path,$="name"in m&&m.name===x.name;return R||$})}return((c=e.name)!=null?c:d.value)===b}),g=c=>{var i;n.value||l.setActive((i=e.name)!=null?i:d.value,a),o("click",c)},s=()=>{if(t.icon)return t.icon({active:n.value});if(e.icon)return u(ce,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var c;const{dot:i,badge:b}=e,{activeColor:v,inactiveColor:f}=l.props,m=n.value?v:f;return u("div",{role:"tab",class:h({active:n.value}),style:{color:m},tabindex:0,"aria-selected":n.value,onClick:g},[u(se,L({dot:i,class:h("icon"),content:b},e.badgeProps),{default:s}),u("div",{class:h("text")},[(c=t.default)==null?void 0:c.call(t,{active:n.value})])])}}});const xe=S(ge);const Pe={class:"container"},ye={__name:"layout",setup(e){const o=Y({current:"home",items:[{name:"home",to:"/home",icon:"wap-home-o",label:"\u9996\u9875"},{name:"category",to:"/category",icon:"apps-o",label:"\u5206\u7C7B"},{name:"worth",to:"/worth",icon:"bag-o",label:"\u503C\u5F97\u4E70"},{name:"cart",to:"/cart",icon:"shopping-cart-o",label:"\u8D2D\u7269\u8F66"},{name:"user",to:"/user",icon:"user-o",label:"\u6211\u7684"}]});return(t,a)=>{const r=X("router-view"),l=xe,d=_e;return _(),B(I,null,[q("div",Pe,[u(r)]),u(d,{modelValue:o.current,"onUpdate:modelValue":a[0]||(a[0]=n=>o.current=n),route:""},{default:C(()=>[(_(!0),B(I,null,J(o.items,n=>(_(),Z(l,{key:n.to,name:n.name,to:n.to,icon:n.icon},{default:C(()=>[Q(W(n.label),1)]),_:2},1032,["name","to","icon"]))),128))]),_:1},8,["modelValue"])],64)}}},Te=le(ye,[["__scopeId","data-v-8a3604ce"]]);export{Te as default};
