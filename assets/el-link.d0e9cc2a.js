import{m as Z,a8 as oe,I as te,S as F,D as ne,j as W,a9 as se,O as Q,aa as X,U as A,ab as le,ac as ae,ad as ue,ae as ce,af as N,G as O,Q as H,i as J,d as ie,q as L,ag as de,ah as K,ai as re,aj as fe,k as S,C as me,ak as ye,c as V,W as ve,al as pe,am as U,o as T,p as _,b as j,w as he,r as ge,e as p,E as Ce,f as Y,n as q,_ as be,z as ke}from"./index.0f55502d.js";import{P as $}from"./vnode.dcad3218.js";import{U as R}from"./el-popper.47df8fa0.js";import{u as G}from"./index.84de2bb7.js";import{t as Ee}from"./index.c8bd2a93.js";import{g as we}from"./el-select.a863f1ce.js";const Xe=(e,t,l)=>{let n={offsetX:0,offsetY:0};const a=d=>{const u=d.clientX,m=d.clientY,{offsetX:r,offsetY:y}=n,c=e.value.getBoundingClientRect(),f=c.left,b=c.top,I=c.width,D=c.height,P=document.documentElement.clientWidth,x=document.documentElement.clientHeight,z=-f+r,k=-b+y,h=P-f-I+r,g=x-b-D+y,E=v=>{const w=Math.min(Math.max(r+v.clientX-u,z),h),M=Math.min(Math.max(y+v.clientY-m,k),g);n={offsetX:w,offsetY:M},e.value.style.transform=`translate(${F(w)}, ${F(M)})`},C=()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",E),document.addEventListener("mouseup",C)},o=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",a)},s=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",a)};Z(()=>{oe(()=>{l.value?o():s()})}),te(()=>{s()})},Me=e=>{ne(e)||Ee("[useLockscreen]","You need to pass a ref param to this function");const t=W("popup"),l=se(()=>t.bm("parent","hidden"));if(!Q||X(document.body,l.value))return;let n=0,a=!1,o="0";const s=()=>{setTimeout(()=>{ce(document.body,l.value),a&&(document.body.style.width=o)},200)};A(e,d=>{if(!d){s();return}a=!X(document.body,l.value),a&&(o=document.body.style.width),n=we(t.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,m=le(document.body,"overflowY");n>0&&(u||m==="scroll")&&a&&(document.body.style.width=`calc(100% - ${n}px)`),ae(document.body,l.value)}),ue(()=>s())},Be=e=>{if(!e)return{onClick:N,onMousedown:N,onMouseup:N};let t=!1,l=!1;return{onClick:s=>{t&&l&&e(s),t=l=!1},onMousedown:s=>{t=s.target===s.currentTarget},onMouseup:s=>{l=s.target===s.currentTarget}}},Se=O({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:H([String,Array,Object])},zIndex:{type:H([String,Number])}}),Te={click:e=>e instanceof MouseEvent};var Le=J({name:"ElOverlay",props:Se,emits:Te,setup(e,{slots:t,emit:l}){const n=W("overlay"),a=u=>{l("click",u)},{onClick:o,onMousedown:s,onMouseup:d}=Be(e.customMaskEvent?void 0:a);return()=>e.mask?ie("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:o,onMousedown:s,onMouseup:d},[L(t,"default")],$.STYLE|$.CLASS|$.PROPS,["onClick","onMouseup","onMousedown"]):de("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[L(t,"default")])}});const Ve=Le,Oe=O({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:K},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),Ue={close:()=>!0},_e=O({...Oe,appendToBody:{type:Boolean,default:!1},beforeClose:{type:H(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),je={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[R]:e=>re(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},qe=(e,t)=>{const n=pe().emit,{nextZIndex:a}=fe();let o="";const s=G(),d=G(),u=S(!1),m=S(!1),r=S(!1),y=S(e.zIndex||a());let c,f;const b=me("namespace",ye),I=V(()=>{const i={},B=`--${b.value}-dialog`;return e.fullscreen||(e.top&&(i[`${B}-margin-top`]=e.top),e.width&&(i[`${B}-width`]=F(e.width))),i}),D=V(()=>e.alignCenter?{display:"flex"}:{});function P(){n("opened")}function x(){n("closed"),n(R,!1),e.destroyOnClose&&(r.value=!1)}function z(){n("close")}function k(){f?.(),c?.(),e.openDelay&&e.openDelay>0?{stop:c}=U(()=>C(),e.openDelay):C()}function h(){c?.(),f?.(),e.closeDelay&&e.closeDelay>0?{stop:f}=U(()=>v(),e.closeDelay):v()}function g(){function i(B){B||(m.value=!0,u.value=!1)}e.beforeClose?e.beforeClose(i):h()}function E(){e.closeOnClickModal&&g()}function C(){!Q||(u.value=!0)}function v(){u.value=!1}function w(){n("openAutoFocus")}function M(){n("closeAutoFocus")}e.lockScroll&&Me(u);function ee(){e.closeOnPressEscape&&g()}return A(()=>e.modelValue,i=>{i?(m.value=!1,k(),r.value=!0,y.value=e.zIndex?y.value++:a(),ve(()=>{n("open"),t.value&&(t.value.scrollTop=0)})):u.value&&h()}),A(()=>e.fullscreen,i=>{!t.value||(i?(o=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=o)}),Z(()=>{e.modelValue&&(u.value=!0,r.value=!0,k())}),{afterEnter:P,afterLeave:x,beforeLeave:z,handleClose:g,onModalClick:E,close:h,doClose:v,onOpenAutoFocus:w,onCloseAutoFocus:M,onCloseRequested:ee,titleId:s,bodyId:d,closed:m,style:I,overlayDialogStyle:D,rendered:r,visible:u,zIndex:y}},Ie=O({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:K}}),De={click:e=>e instanceof MouseEvent},Pe=["href"],xe={name:"ElLink"},ze=J({...xe,props:Ie,emits:De,setup(e,{emit:t}){const l=e,n=W("link");function a(o){l.disabled||t("click",o)}return(o,s)=>(T(),_("a",{class:q([p(n).b(),p(n).m(o.type),p(n).is("disabled",o.disabled),p(n).is("underline",o.underline&&!o.disabled)]),href:o.disabled||!o.href?void 0:o.href,onClick:a},[o.icon?(T(),j(p(Ce),{key:0},{default:he(()=>[(T(),j(ge(o.icon)))]),_:1})):Y("v-if",!0),o.$slots.default?(T(),_("span",{key:1,class:q(p(n).e("inner"))},[L(o.$slots,"default")],2)):Y("v-if",!0),o.$slots.icon?L(o.$slots,"icon",{key:2}):Y("v-if",!0)],10,Pe))}});var Ne=be(ze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const Ge=ke(Ne);export{Ve as E,je as a,Ge as b,Xe as c,_e as d,Me as e,Be as f,Oe as g,Ue as h,qe as u};
