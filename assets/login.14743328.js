import{E as k,_ as w}from"./app-form.b7dc3ddd.js";import{Y as y,k as x,a3 as b,p as V,N as c,d as e,w as t,D as v,o as E,a5 as i,a6 as N,g as R,h as B}from"./index.8cf78fc7.js";import{E as C}from"./el-tag.228ea367.js";import{E as U}from"./el-button.d43bdf49.js";import q from"./header-logo.5a7e77bb.js";import"./app-editor.f8ad0ec1.js";import"./el-popper.db34ff75.js";import"./index.2533d500.js";import"./index.0e339e53.js";import"./svg-icon.3a034068.js";/* empty css                */import"./el-link.3fc15a89.js";import"./vnode.cef4f690.js";import"./el-select.00100cf2.js";import"./strings.ed084e6a.js";import"./refs.c3dd82c0.js";import"./aria.71131d37.js";import"./el-space.d38f7837.js";const M={class:"center"},$={style:{width:"320px","margin-top":"-160px"}},I={class:"between w-full"},S=i("\u5FD8\u8BB0\u5BC6\u7801"),j=i("\u767B\u5F55"),z=i("\u6CE8\u518C\u8D26\u53F7"),re={__name:"login",setup(A){const r=y({action:"user/login",data:null,schema:{title:"\u767B\u5F55",type:"object",properties:{userName:{type:"string",default:null,placeholder:"\u7528\u6237\u540D",prefix:"user",rules:[{required:!0,trigger:"change"}]},password:{type:"string",default:null,placeholder:"\u5BC6\u7801",prefix:"lock",input:"password",showPassword:!0,rules:[{required:!0,trigger:"change"}]},rememberMe:{skip:!0,default:!1}}}}),m=x(null),d=N(),_=R(),u=b(),f=async l=>{console.log(l);const{token:o}=l;await u.login(o),await u.setUserInfo(),d.push({path:_.query.redirect??"/"})};return(l,o)=>{const g=k,a=U,p=B("router-link"),n=C,h=w;return E(),V("div",M,[c("div",$,[e(h,{ref_key:"formRef",ref:m,modelValue:r,"onUpdate:modelValue":o[2]||(o[2]=s=>v(r)?r.value=s:null),class:"text-center",onAfter:f},{header:t(()=>[e(q,{class:"m-4"})]),footer:t(()=>[e(n,null,{default:t(()=>[c("div",I,[e(g,{modelValue:r.data.rememberMe,"onUpdate:modelValue":o[0]||(o[0]=s=>r.data.rememberMe=s),label:"\u8BB0\u4F4F\u5BC6\u7801",size:"large"},null,8,["modelValue"]),e(p,{to:"/forgot-password"},{default:t(()=>[e(a,{type:"primary",link:""},{default:t(()=>[S]),_:1})]),_:1})])]),_:1}),e(n,null,{default:t(()=>[e(a,{type:"primary",class:"w-full",onClick:o[1]||(o[1]=s=>m.value.submit())},{default:t(()=>[j]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(p,{to:"/register",class:"w-full text-center"},{default:t(()=>[e(a,{type:"primary",link:""},{default:t(()=>[z]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])}}};export{re as default};
