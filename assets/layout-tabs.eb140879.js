import{C as W,M as H,h as G,D as ae,i as N,O as V,Q,P as ie,o as B,l as F,n as ue,e as x,p as we,af as I,a0 as se,Z as ne,ag as Ce,ah as $e,c as K,k as de,U as Ne,d as r,S as fe,R as Te,m as be,a8 as ke,N as xe,x as Ee,ai as le,aj as Se,G as Be,H as Re,f as ve,v as Me,y as Oe,I as D,a as ze,ak as Ve,b as ee,w as z,al as Ae,ad as Le,a7 as Y,a2 as Ie,L as Fe,ae as De}from"./index.deda38a7.js";import{u as Ue,U as me}from"./el-button.41d860a0.js";import"./el-popper.b24014d5.js";import{E as He,a as Ke,b as Ye}from"./el-dropdown-item.61e45a58.js";import{_ as je}from"./svg-icon.bbb3e41c.js";import{E as j,e as qe,f as We,d as Ge,p as Qe,i as re}from"./index.8904e04f.js";import{m as pe,t as oe,E as q}from"./index.b3ad05d2.js";import{_ as _e}from"./plugin-vue_export-helper.a0554eae.js";import{u as X}from"./index.4331a0ad.js";import"./icon.d9e9a8c2.js";import"./index.dc85d0c6.js";/* empty css                */const Z=Symbol("tabsRootContextKey"),Xe=W({tabs:{type:H(Array),default:()=>pe([])}}),Ze={name:"ElTabBar"},Je=G({...Ze,props:Xe,setup(a,{expose:c}){const o=a,h="ElTabBar",l=se(),g=ae(Z);g||oe(h,"<el-tabs><el-tab-bar /></el-tabs>");const y=X("tabs"),m=N(),w=N(),p=()=>{let u=0,T=0;const C=["top","bottom"].includes(g.props.tabPosition)?"width":"height",t=C==="width"?"x":"y";return o.tabs.every(e=>{var d,n,E,R;const M=(n=(d=l.parent)==null?void 0:d.refs)==null?void 0:n[`tab-${e.paneName}`];if(!M)return!1;if(!e.active)return!0;T=M[`client${I(C)}`];const A=t==="x"?"left":"top";u=M.getBoundingClientRect()[A]-((R=(E=M.parentElement)==null?void 0:E.getBoundingClientRect()[A])!=null?R:0);const O=window.getComputedStyle(M);return C==="width"&&(o.tabs.length>1&&(T-=Number.parseFloat(O.paddingLeft)+Number.parseFloat(O.paddingRight)),u+=Number.parseFloat(O.paddingLeft)),!1}),{[C]:`${T}px`,transform:`translate${I(t)}(${u}px)`}},_=()=>w.value=p();return V(()=>o.tabs,async()=>{await Q(),_()},{immediate:!0}),ie(m,()=>_()),c({ref:m,update:_}),(u,T)=>(B(),F("div",{ref_key:"barRef",ref:m,class:ue([x(y).e("active-bar"),x(y).is(x(g).props.tabPosition)]),style:we(w.value)},null,6))}});var et=_e(Je,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const tt=W({panes:{type:H(Array),default:()=>pe([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:H(Function),default:ne},onTabRemove:{type:H(Function),default:ne},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),ce="ElTabNav",at=G({name:ce,props:tt,setup(a,{expose:c}){const o=se(),h=ae(Z);h||oe(ce,"<el-tabs><tab-nav /></el-tabs>");const l=X("tabs"),g=Ce(),y=$e(),m=N(),w=N(),p=N(),_=N(!1),u=N(0),T=N(!1),C=N(!0),t=K(()=>["top","bottom"].includes(h.props.tabPosition)?"width":"height"),e=K(()=>({transform:`translate${t.value==="width"?"X":"Y"}(-${u.value}px)`})),d=()=>{if(!m.value)return;const i=m.value[`offset${I(t.value)}`],f=u.value;if(!f)return;const s=f>i?f-i:0;u.value=s},n=()=>{if(!m.value||!w.value)return;const i=w.value[`offset${I(t.value)}`],f=m.value[`offset${I(t.value)}`],s=u.value;if(i-s<=f)return;const b=i-s>f*2?s+f:i-f;u.value=b},E=async()=>{const i=w.value;if(!_.value||!p.value||!m.value||!i)return;await Q();const f=p.value.querySelector(".is-active");if(!f)return;const s=m.value,b=["top","bottom"].includes(h.props.tabPosition),v=f.getBoundingClientRect(),$=s.getBoundingClientRect(),S=b?i.offsetWidth-$.width:i.offsetHeight-$.height,k=u.value;let P=k;b?(v.left<$.left&&(P=k-($.left-v.left)),v.right>$.right&&(P=k+v.right-$.right)):(v.top<$.top&&(P=k-($.top-v.top)),v.bottom>$.bottom&&(P=k+(v.bottom-$.bottom))),P=Math.max(P,0),u.value=Math.min(P,S)},R=()=>{if(!w.value||!m.value)return;const i=w.value[`offset${I(t.value)}`],f=m.value[`offset${I(t.value)}`],s=u.value;if(f<i){const b=u.value;_.value=_.value||{},_.value.prev=b,_.value.next=b+f<i,i-b<f&&(u.value=i-f)}else _.value=!1,s>0&&(u.value=0)},M=i=>{const f=i.code,{up:s,down:b,left:v,right:$}=q;if(![s,b,v,$].includes(f))return;const S=Array.from(i.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),k=S.indexOf(i.target);let P;f===v||f===s?k===0?P=S.length-1:P=k-1:k<S.length-1?P=k+1:P=0,S[P].focus(),S[P].click(),A()},A=()=>{C.value&&(T.value=!0)},O=()=>T.value=!1;return V(g,i=>{i==="hidden"?C.value=!1:i==="visible"&&setTimeout(()=>C.value=!0,50)}),V(y,i=>{i?setTimeout(()=>C.value=!0,50):C.value=!1}),ie(p,R),de(()=>setTimeout(()=>E(),0)),Ne(()=>R()),c({scrollToActiveTab:E,removeFocus:O}),V(()=>a.panes,()=>o.update(),{flush:"post"}),()=>{const i=_.value?[r("span",{class:[l.e("nav-prev"),l.is("disabled",!_.value.prev)],onClick:d},[r(j,null,{default:()=>[r(qe,null,null)]})]),r("span",{class:[l.e("nav-next"),l.is("disabled",!_.value.next)],onClick:n},[r(j,null,{default:()=>[r(We,null,null)]})])]:null,f=a.panes.map((s,b)=>{var v,$,S,k;const P=s.props.disabled,U=($=(v=s.props.name)!=null?v:s.index)!=null?$:`${b}`,J=!P&&(s.isClosable||a.editable);s.index=`${b}`;const ge=J?r(j,{class:"is-icon-close",onClick:L=>a.onTabRemove(s,L)},{default:()=>[r(Ge,null,null)]}):null,ye=((k=(S=s.slots).label)==null?void 0:k.call(S))||s.props.label,Pe=!P&&s.active?0:-1;return r("div",{ref:`tab-${U}`,class:[l.e("item"),l.is(h.props.tabPosition),l.is("active",s.active),l.is("disabled",P),l.is("closable",J),l.is("focus",T.value)],id:`tab-${U}`,key:`tab-${U}`,"aria-controls":`pane-${U}`,role:"tab","aria-selected":s.active,tabindex:Pe,onFocus:()=>A(),onBlur:()=>O(),onClick:L=>{O(),a.onTabClick(s,U,L)},onKeydown:L=>{J&&(L.code===q.delete||L.code===q.backspace)&&a.onTabRemove(s,L)}},[ye,ge])});return r("div",{ref:p,class:[l.e("nav-wrap"),l.is("scrollable",!!_.value),l.is(h.props.tabPosition)]},[i,r("div",{class:l.e("nav-scroll"),ref:m},[r("div",{class:[l.e("nav"),l.is(h.props.tabPosition),l.is("stretch",a.stretch&&["top","bottom"].includes(h.props.tabPosition))],ref:w,style:e.value,role:"tablist",onKeydown:M},[a.type?null:r(et,{tabs:[...a.panes]},null),f])])])}}}),st=W({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:H(Function),default:()=>!0},stretch:Boolean}),te=a=>ke(a)||xe(a),ot={[me]:a=>te(a),"tab-click":(a,c)=>c instanceof Event,"tab-change":a=>te(a),edit:(a,c)=>["remove","add"].includes(c),"tab-remove":a=>te(a),"tab-add":()=>!0};var nt=G({name:"ElTabs",props:st,emits:ot,setup(a,{emit:c,slots:o,expose:h}){var l,g;const y=X("tabs"),m=N(),w=fe({}),p=N((g=(l=a.modelValue)!=null?l:a.activeName)!=null?g:"0"),_=e=>{p.value=e,c(me,e),c("tab-change",e)},u=async e=>{var d,n,E;if(!(p.value===e||re(e)))try{await((d=a.beforeLeave)==null?void 0:d.call(a,e,p.value))!==!1&&(_(e),(E=(n=m.value)==null?void 0:n.removeFocus)==null||E.call(n))}catch{}},T=(e,d,n)=>{e.props.disabled||(u(d),c("tab-click",e,n))},C=(e,d)=>{e.props.disabled||re(e.props.name)||(d.stopPropagation(),c("edit",e.props.name,"remove"),c("tab-remove",e.props.name))},t=()=>{c("edit",void 0,"add"),c("tab-add")};return Ue({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},K(()=>!!a.activeName)),V(()=>a.activeName,e=>u(e)),V(()=>a.modelValue,e=>u(e)),V(p,async()=>{var e;await Q(),(e=m.value)==null||e.scrollToActiveTab()}),Te(Z,{props:a,currentName:p,registerPane:n=>w[n.uid]=n,unregisterPane:n=>delete w[n]}),h({currentName:p}),()=>{const e=a.editable||a.addable?r("span",{class:y.e("new-tab"),tabindex:"0",onClick:t,onKeydown:E=>{E.code===q.enter&&t()}},[r(j,{class:y.is("icon-plus")},{default:()=>[r(Qe,null,null)]})]):null,d=r("div",{class:[y.e("header"),y.is(a.tabPosition)]},[e,r(at,{ref:m,currentName:p.value,editable:a.editable,type:a.type,panes:Object.values(w),stretch:a.stretch,onTabClick:T,onTabRemove:C},null)]),n=r("div",{class:y.e("content")},[be(o,"default")]);return r("div",{class:[y.b(),y.m(a.tabPosition),{[y.m("card")]:a.type==="card",[y.m("border-card")]:a.type==="border-card"}]},[...a.tabPosition!=="bottom"?[d,n]:[n,d]])}}});const lt=W({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),rt=["id","aria-hidden","aria-labelledby"],ct={name:"ElTabPane"},it=G({...ct,props:lt,setup(a){const c=a,o="ElTabPane",h=se(),l=Ee(),g=ae(Z);g||oe(o,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const y=X("tab-pane"),m=N(),w=K(()=>c.closable||g.props.closable),p=le(()=>{var t;return g.currentName.value===((t=c.name)!=null?t:m.value)}),_=N(p.value),u=K(()=>{var t;return(t=c.name)!=null?t:m.value}),T=le(()=>!c.lazy||_.value||p.value);V(p,t=>{t&&(_.value=!0)});const C=fe({uid:h.uid,slots:l,props:c,paneName:u,active:p,index:m,isClosable:w});return de(()=>{g.registerPane(C)}),Se(()=>{g.unregisterPane(C.uid)}),(t,e)=>x(T)?Be((B(),F("div",{key:0,id:`pane-${x(u)}`,class:ue(x(y).b()),role:"tabpanel","aria-hidden":!x(p),"aria-labelledby":`tab-${x(u)}`},[be(t.$slots,"default")],10,rt)),[[Re,x(p)]]):ve("v-if",!0)}});var he=_e(it,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const ut=Me(nt,{TabPane:he}),dt=Oe(he);const ft={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},bt=D("path",{fill:"currentColor",d:"M118.656 438.656a32 32 0 0 1 0-45.248L416 96l4.48-3.776A32 32 0 0 1 461.248 96l3.712 4.48a32.064 32.064 0 0 1-3.712 40.832L218.56 384H928a32 32 0 1 1 0 64H141.248a32 32 0 0 1-22.592-9.344zM64 608a32 32 0 0 1 32-32h786.752a32 32 0 0 1 22.656 54.592L608 928l-4.48 3.776a32.064 32.064 0 0 1-40.832-49.024L805.632 640H96a32 32 0 0 1-32-32z"},null,-1),vt=[bt];function mt(a,c){return B(),F("svg",ft,vt)}const pt={name:"ep-switch",render:mt},_t={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},ht=D("path",{fill:"currentColor",d:"M754.752 480H160a32 32 0 1 0 0 64h594.752L521.344 777.344a32 32 0 0 0 45.312 45.312l288-288a32 32 0 0 0 0-45.312l-288-288a32 32 0 1 0-45.312 45.312L754.752 480z"},null,-1),gt=[ht];function yt(a,c){return B(),F("svg",_t,gt)}const Pt={name:"ep-right",render:yt},wt={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Ct=D("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),$t=D("path",{fill:"currentColor",d:"m237.248 512l265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1),Nt=[Ct,$t];function Tt(a,c){return B(),F("svg",wt,Nt)}const kt={name:"ep-back",render:Tt},xt={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Et=D("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"},null,-1),St=[Et];function Bt(a,c){return B(),F("svg",xt,St)}const Rt={name:"ep-refresh",render:Bt},Mt={class:"inline-flex items-center"},Ot=Y("\u5237\u65B0"),zt=Y("\u5173\u95ED\u5DE6\u4FA7 "),Vt=Y("\u5173\u95ED\u53F3\u4FA7 "),At=Y("\u5173\u95ED\u5176\u4ED6 "),Qt={__name:"layout-tabs",setup(a){const c=N([]),o=ze(),h=Ae(),l=De(),g=N(h.fullPath);Ve(t=>{g.value=t.fullPath});const y=(t,e)=>{e?c.value[t]=e:c.value.splice(t,1)},m=(t,e)=>{e&&c.value.forEach((d,n)=>{n!==t&&d?.handleClose()})},w=t=>{const e=o.routes.findIndex(n=>n.fullPath===h.fullPath),d=o.routes[t];t!==e&&l.push({path:d.fullPath}),o.isRefreshing=!0,Q(()=>{o.isRefreshing=!1})},p=t=>{if(o.routes.length>1){const e=o.routes.findIndex(n=>n.fullPath===t),d=o.routes.findIndex(n=>n.fullPath===h.fullPath);o.routes.splice(e,1),e===d&&(o.routes[e]?l.push(o.routes[e]):l.push(o.routes[e-1]))}},_=t=>{const e=o.routes.findIndex(n=>n.fullPath===h.fullPath),d=o.routes[t];o.routes.splice(0,t),e<t&&l.push(d)},u=t=>{const e=o.routes.findIndex(d=>d.fullPath===h.fullPath);o.routes.splice(t+1,o.routes.length-t),e>t&&l.push(o.routes[t])},T=t=>{u(t),_(t),o.routes[0].fullPath!==h.fullPath&&l.push(o.routes[0])},C=t=>{t.active||l.push(t.props.name)};return(t,e)=>{const d=Rt,n=He,E=kt,R=Pt,M=pt,A=Ke,O=Ye,i=dt,f=ut;return B(),ee(f,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=s=>g.value=s),type:"border-card",class:"router-tab w-full",onTabRemove:p,onTabClick:C},{default:z(()=>[(B(!0),F(Fe,null,Le(x(o).routes,(s,b)=>(B(),ee(i,{key:s.fullPath,modelValue:s.fullPath,"onUpdate:modelValue":v=>s.fullPath=v,name:s.fullPath,closable:x(o).routes.length>1},{label:z(()=>[r(O,{ref_for:!0,ref:v=>y(b,v),class:"h-full",trigger:"contextmenu",onVisibleChange:v=>m(b,v)},{dropdown:z(()=>[r(A,null,{default:z(()=>[r(n,{onClick:v=>w(b)},{default:z(()=>[r(d),Ot]),_:2},1032,["onClick"]),r(n,{disabled:b===0,onClick:v=>_(b)},{default:z(()=>[r(E),zt]),_:2},1032,["disabled","onClick"]),r(n,{disabled:b===x(o).routes.length-1,onClick:v=>u(b)},{default:z(()=>[r(R),Vt]),_:2},1032,["disabled","onClick"]),r(n,{disabled:b===0&&b===x(o).routes.length-1,onClick:v=>T(b)},{default:z(()=>[r(M),At]),_:2},1032,["disabled","onClick"])]),_:2},1024)]),default:z(()=>[D("span",Mt,[s.meta.icon?(B(),ee(je,{key:0,name:s.meta.icon},null,8,["name"])):ve("",!0),Y(" "+Ie(s.meta?.title??s.fullPath),1)])]),_:2},1032,["onVisibleChange"])]),_:2},1032,["modelValue","onUpdate:modelValue","name","closable"]))),128))]),_:1},8,["modelValue"])}}};export{Qt as default};
