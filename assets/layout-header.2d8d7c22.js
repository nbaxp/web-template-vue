import{N as X,i as G,E as T,a9 as J,c as A,k as D,j as K,X as W,_ as Z,h as b,o as s,b as f,d as o,w as t,P as x,Q as ee,R as r,n as _,p as n,q as E,aa as k,f as d,v as oe,x as te,T as se,ab as ne,z as ae,a0 as le,u as re,ac as ie,U as $,e as c,ad as I,ae as z,g as de,af as ue,ag as q}from"./index.62ba39cc.js";import{d as ce,a as pe,E as me,u as _e}from"./el-overlay.40aa64e5.js";import{E as fe}from"./el-link.2ab4aaa7.js";import{u as he,a as ve}from"./el-button.e1898b92.js";import{E as we,a as ge,b as ye}from"./el-dropdown-item.26762a44.js";import{E as $e}from"./el-space.bbabd2f8.js";import{a as be,E as ke}from"./el-menu-item.b25f7700.js";/* empty css                */import{_ as ze}from"./svg-icon.13975fb2.js";import Ce from"./header-logo.74aa2bc2.js";import Ee from"./header-settings.10a3893e.js";import{E as Me}from"./index.cf211c5a.js";import{E as Re}from"./index.36929522.js";import"./vnode.3a45fb47.js";import"./el-select.452a58a2.js";import"./refs.e595911e.js";import"./aria.71131d37.js";const Le=X({...ce,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),Ae=pe,Se=G({name:"ElDrawer",components:{ElOverlay:me,ElFocusTrap:Me,ElIcon:T,Close:J},props:Le,emits:Ae,setup(e,{slots:a}){he({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},A(()=>!!a.title));const p=D(),i=D(),v=K("drawer"),{t:w}=ve(),g=A(()=>e.direction==="rtl"||e.direction==="ltr"),y=A(()=>W(e.size));return{..._e(e,p),drawerRef:p,focusStartRef:i,isHorizontal:g,drawerSize:y,ns:v,t:w}}}),Be=["aria-label","aria-labelledby","aria-describedby"],Ve=["id"],He=["aria-label"],De=["id"];function Ie(e,a,p,i,v,w){const g=b("close"),y=b("el-icon"),M=b("el-focus-trap"),u=b("el-overlay");return s(),f(ne,{to:"body",disabled:!e.appendToBody},[o(se,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:t(()=>[x(o(u,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:t(()=>[o(M,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:t(()=>[r("div",{ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId,class:_([e.ns.b(),e.direction,e.visible&&"open",e.customClass]),style:oe(e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize),role:"dialog",onClick:a[1]||(a[1]=te(()=>{},["stop"]))},[r("span",{ref:"focusStartRef",class:_(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(s(),n("header",{key:0,class:_(e.ns.e("header"))},[e.$slots.title?E(e.$slots,"title",{key:1},()=>[d(" DEPRECATED SLOT ")]):E(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},()=>[e.$slots.title?d("v-if",!0):(s(),n("span",{key:0,id:e.titleId,role:"heading",class:_(e.ns.e("title"))},k(e.title),11,Ve))]),e.showClose?(s(),n("button",{key:2,"aria-label":e.t("el.drawer.close"),class:_(e.ns.e("close-btn")),type:"button",onClick:a[0]||(a[0]=(...h)=>e.handleClose&&e.handleClose(...h))},[o(y,{class:_(e.ns.e("close"))},{default:t(()=>[o(g)]),_:1},8,["class"])],10,He)):d("v-if",!0)],2)):d("v-if",!0),e.rendered?(s(),n("div",{key:1,id:e.bodyId,class:_(e.ns.e("body"))},[E(e.$slots,"default")],10,De)):d("v-if",!0),e.$slots.footer?(s(),n("div",{key:2,class:_(e.ns.e("footer"))},[E(e.$slots,"footer")],2)):d("v-if",!0)],14,Be)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[ee,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var qe=Z(Se,[["render",Ie],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const Te=ae(qe);const Ne={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Pe=r("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256z"},null,-1),Ye=[Pe];function Ue(e,a){return s(),n("svg",Ne,Ye)}const Fe={name:"ep-setting",render:Ue},Oe={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},je=r("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128z"},null,-1),Qe=r("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32z"},null,-1),Xe=[je,Qe];function Ge(e,a){return s(),n("svg",Oe,Xe)}const Je={name:"ep-switch-button",render:Ge},Ke={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},We=r("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384a192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512zm320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0z"},null,-1),Ze=[We];function xe(e,a){return s(),n("svg",Ke,Ze)}const eo={name:"ep-user",render:xe},oo={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},to=r("path",{fill:"currentColor",d:"M831.872 340.864L512 652.672L192.128 340.864a30.592 30.592 0 0 0-42.752 0a29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728a30.592 30.592 0 0 0-42.752 0z"},null,-1),so=[to];function no(e,a){return s(),n("svg",oo,so)}const ao={name:"ep-arrow-down",render:no},lo={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},ro=r("path",{fill:"currentColor",d:"M896 192H128v128h768V192zm0 256H384v128h512V448zm0 256H128v128h768V704zM320 384L128 512l192 128V384z"},null,-1),io=[ro];function uo(e,a){return s(),n("svg",lo,io)}const co={name:"ep-fold",render:uo},po={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},mo=r("path",{fill:"currentColor",d:"M128 192h768v128H128V192zm0 256h512v128H128V448zm0 256h768v128H128V704zm576-352l192 160l-192 128V352z"},null,-1),_o=[mo];function fo(e,a){return s(),n("svg",po,_o)}const ho={name:"ep-expand",render:fo};const vo={class:"between"},wo={class:"between"},go={key:0,class:"center"},yo={class:"between"},$o=["src"],bo=z("\u4E2A\u4EBA\u4E2D\u5FC3 "),ko=z("\u9000\u51FA\u767B\u5F55 "),zo=z(" \u767B\u5F55 "),Co=z("\u6CE8\u518C"),Fo={__name:"layout-header",props:{hasAside:{type:Boolean,default:!1}},setup(e){const a=le({show:!1,toggle(){this.show=!this.show}}),p=re(),i=ie(),v=de(),w=ue(),g=()=>p.menuCollapse=!p.menuCollapse,y=u=>{i.currentRole=u,v.meta?.requiresAuth&&!i.hasPermission(v.meta?.permission)&&w.push("/403")},M=async()=>{try{await Re.confirm("\u786E\u8BA4\u9000\u51FA\uFF1F","\u63D0\u793A",{type:"warning"}),await i.logout(),q({type:"success",message:"\u9000\u51FA\u6210\u529F"}),w.push("/login")}catch(u){console.log(u),q({type:"info",message:"\u9000\u51FA\u53D6\u6D88"})}};return(u,h)=>{const N=ho,P=co,m=T,Y=be,U=ke,S=ao,C=$e,F=eo,R=b("router-link"),L=we,O=Je,B=ge,V=ye,H=fe,j=Fe,Q=Te;return s(),n($,null,[r("div",vo,[r("div",wo,[o(Ce,{"has-aside":e.hasAside},null,8,["has-aside"]),e.hasAside?(s(),n("div",go,[o(m,{size:18,class:"cursor-pointer",onClick:g},{default:t(()=>[c(p).menuCollapse?(s(),f(N,{key:0})):(s(),f(P,{key:1}))]),_:1})])):d("",!0),o(U,{mode:"horizontal","default-active":u.$route.matched[0].path,ellipsis:!1,router:""},{default:t(()=>[(s(!0),n($,null,I(u.$router.options.routes,l=>(s(),n($,null,[l.meta?.hide?d("",!0):(s(),f(Y,{key:l.path,index:l.path},{title:t(()=>[l.meta.icon?(s(),f(m,{key:0},{default:t(()=>[o(ze,{name:l.meta.icon},null,8,["name"])]),_:2},1024)):d("",!0),r("span",null,k(l.meta?.title??l.path),1)]),_:2},1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),r("div",yo,[o(C,null,{default:t(()=>[c(i).token?(s(),n($,{key:0},[o(V,{class:"cursor-pointer"},{dropdown:t(()=>[o(B,null,{default:t(()=>[o(L,null,{default:t(()=>[o(R,{to:"/account"},{default:t(()=>[o(m,null,{default:t(()=>[o(F)]),_:1}),bo]),_:1})]),_:1}),o(L,{divided:"",onClick:M},{default:t(()=>[o(m,null,{default:t(()=>[o(O)]),_:1}),ko]),_:1})]),_:1})]),default:t(()=>[o(C,null,{default:t(()=>[o(m,{size:18},{default:t(()=>[r("img",{src:c(i).avatar,class:"h-full"},null,8,$o)]),_:1}),r("span",null,k(c(i).name),1),o(m,null,{default:t(()=>[o(S)]),_:1})]),_:1})]),_:1}),c(p).roleSwitchable&&c(i).currentRole?(s(),f(V,{key:0,class:"cursor-pointer",onCommand:y},{dropdown:t(()=>[o(B,null,{default:t(()=>[(s(!0),n($,null,I(c(i).roles,l=>(s(),f(L,{key:l.number,command:l.number},{default:t(()=>[z(k(l.name),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:t(()=>[o(C,null,{default:t(()=>[r("span",null,k(c(i).roles.find(l=>l.number===c(i).currentRole)?.name),1),o(m,null,{default:t(()=>[o(S)]),_:1})]),_:1})]),_:1})):d("",!0)],64)):(s(),f(C,{key:1,size:20},{default:t(()=>[o(H,{type:"info"},{default:t(()=>[o(R,{class:"router-link",to:{path:"/login",query:{redirect:u.$route.fullPath}}},{default:t(()=>[zo]),_:1},8,["to"])]),_:1}),o(H,{type:"info"},{default:t(()=>[o(R,{class:"router-link",to:"/register"},{default:t(()=>[Co]),_:1})]),_:1})]),_:1})),o(m,{size:18,class:"cursor-pointer",onClick:h[0]||(h[0]=l=>a.toggle())},{default:t(()=>[o(j)]),_:1})]),_:1})])]),o(Q,{modelValue:a.show,"onUpdate:modelValue":h[1]||(h[1]=l=>a.show=l),title:"\u9875\u9762\u914D\u7F6E","append-to-body":"","destroy-on-close":"",size:"auto"},{default:t(()=>[o(Ee)]),_:1},8,["modelValue"])],64)}}};export{Fo as default};
