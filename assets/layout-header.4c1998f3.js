import{H as G,i as J,E as T,a1 as K,c as R,k as D,j as W,U as X,_ as Y,h as b,o as s,b as f,d as o,w as t,M as x,N as ee,O as r,n as _,p as n,q as E,a2 as k,f as d,v as oe,x as te,T as se,a3 as ne,z as le,Z as ae,u as re,a4 as ie,Q as $,e as c,a5 as I,a6 as z,g as de,a7 as ue,a8 as q}from"./index.1e692261.js";import{d as ce,a as me,E as pe,u as _e,b as fe}from"./el-link.4571d607.js";import{u as he}from"./el-button.69f0df7c.js";import{u as we}from"./el-popper.e6a0cfe6.js";import{E as ve,a as ge,b as ye}from"./el-dropdown-item.c0ce5f07.js";import{E as $e}from"./el-space.1365c594.js";import{a as be,E as ke}from"./el-menu-item.3d16cc98.js";/* empty css                */import{_ as ze}from"./svg-icon.a3d9bbaf.js";import Ce from"./header-logo.dc016a95.js";import Ee from"./header-settings.e712c94e.js";import{E as Le}from"./index.2f4afd98.js";import{E as Se}from"./index.9c79d48c.js";import"./vnode.04055651.js";import"./index.09be628b.js";import"./el-select.3aaed70f.js";import"./debounce.420a5b4a.js";import"./refs.d2a66b7c.js";import"./aria.71131d37.js";const Me=G({...ce,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),Re=me,Be=J({name:"ElDrawer",components:{ElOverlay:pe,ElFocusTrap:Le,ElIcon:T,Close:K},props:Me,emits:Re,setup(e,{slots:l}){he({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},R(()=>!!l.title));const m=D(),i=D(),w=W("drawer"),{t:v}=we(),g=R(()=>e.direction==="rtl"||e.direction==="ltr"),y=R(()=>X(e.size));return{..._e(e,m),drawerRef:m,focusStartRef:i,isHorizontal:g,drawerSize:y,ns:w,t:v}}}),Ve=["aria-label","aria-labelledby","aria-describedby"],He=["id"],Ae=["aria-label"],De=["id"];function Ie(e,l,m,i,w,v){const g=b("close"),y=b("el-icon"),L=b("el-focus-trap"),u=b("el-overlay");return s(),f(ne,{to:"body",disabled:!e.appendToBody},[o(se,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:t(()=>[x(o(u,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:t(()=>[o(L,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:t(()=>[r("div",{ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId,class:_([e.ns.b(),e.direction,e.visible&&"open",e.customClass]),style:oe(e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize),role:"dialog",onClick:l[1]||(l[1]=te(()=>{},["stop"]))},[r("span",{ref:"focusStartRef",class:_(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(s(),n("header",{key:0,class:_(e.ns.e("header"))},[e.$slots.title?E(e.$slots,"title",{key:1},()=>[d(" DEPRECATED SLOT ")]):E(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},()=>[e.$slots.title?d("v-if",!0):(s(),n("span",{key:0,id:e.titleId,role:"heading",class:_(e.ns.e("title"))},k(e.title),11,He))]),e.showClose?(s(),n("button",{key:2,"aria-label":e.t("el.drawer.close"),class:_(e.ns.e("close-btn")),type:"button",onClick:l[0]||(l[0]=(...h)=>e.handleClose&&e.handleClose(...h))},[o(y,{class:_(e.ns.e("close"))},{default:t(()=>[o(g)]),_:1},8,["class"])],10,Ae)):d("v-if",!0)],2)):d("v-if",!0),e.rendered?(s(),n("div",{key:1,id:e.bodyId,class:_(e.ns.e("body"))},[E(e.$slots,"default")],10,De)):d("v-if",!0),e.$slots.footer?(s(),n("div",{key:2,class:_(e.ns.e("footer"))},[E(e.$slots,"footer")],2)):d("v-if",!0)],14,Ve)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[ee,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var qe=Y(Be,[["render",Ie],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const Te=le(qe);const Ne={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Pe=r("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256z"},null,-1),Ue=[Pe];function Fe(e,l){return s(),n("svg",Ne,Ue)}const Oe={name:"ep-setting",render:Fe},je={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Qe=r("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128z"},null,-1),Ze=r("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32z"},null,-1),Ge=[Qe,Ze];function Je(e,l){return s(),n("svg",je,Ge)}const Ke={name:"ep-switch-button",render:Je},We={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Xe=r("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384a192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512zm320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0z"},null,-1),Ye=[Xe];function xe(e,l){return s(),n("svg",We,Ye)}const eo={name:"ep-user",render:xe},oo={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},to=r("path",{fill:"currentColor",d:"M831.872 340.864L512 652.672L192.128 340.864a30.592 30.592 0 0 0-42.752 0a29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728a30.592 30.592 0 0 0-42.752 0z"},null,-1),so=[to];function no(e,l){return s(),n("svg",oo,so)}const lo={name:"ep-arrow-down",render:no},ao={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},ro=r("path",{fill:"currentColor",d:"M896 192H128v128h768V192zm0 256H384v128h512V448zm0 256H128v128h768V704zM320 384L128 512l192 128V384z"},null,-1),io=[ro];function uo(e,l){return s(),n("svg",ao,io)}const co={name:"ep-fold",render:uo},mo={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},po=r("path",{fill:"currentColor",d:"M128 192h768v128H128V192zm0 256h512v128H128V448zm0 256h768v128H128V704zm576-352l192 160l-192 128V352z"},null,-1),_o=[po];function fo(e,l){return s(),n("svg",mo,_o)}const ho={name:"ep-expand",render:fo};const wo={class:"between"},vo={class:"between"},go={key:0,class:"center"},yo={class:"between"},$o=["src"],bo=z("\u4E2A\u4EBA\u4E2D\u5FC3 "),ko=z("\u9000\u51FA\u767B\u5F55 "),zo=z(" \u767B\u5F55 "),Co=z("\u6CE8\u518C"),Qo={__name:"layout-header",props:{hasAside:{type:Boolean,default:!1}},setup(e){const l=ae({show:!1,toggle(){this.show=!this.show}}),m=re(),i=ie(),w=de(),v=ue(),g=()=>m.menuCollapse=!m.menuCollapse,y=u=>{i.currentRole=u,w.meta?.requiresAuth&&!i.hasPermission(w.meta?.permission)&&v.push("/403")},L=async()=>{try{await Se.confirm("\u786E\u8BA4\u9000\u51FA\uFF1F","\u63D0\u793A",{type:"warning"}),await i.logout(),q({type:"success",message:"\u9000\u51FA\u6210\u529F"}),v.push("/login")}catch(u){console.log(u),q({type:"info",message:"\u9000\u51FA\u53D6\u6D88"})}};return(u,h)=>{const N=ho,P=co,p=T,U=be,F=ke,B=lo,C=$e,O=eo,S=b("router-link"),M=ve,j=Ke,V=ge,H=ye,A=fe,Q=Oe,Z=Te;return s(),n($,null,[r("div",wo,[r("div",vo,[o(Ce,{"has-aside":e.hasAside},null,8,["has-aside"]),e.hasAside?(s(),n("div",go,[o(p,{size:18,class:"cursor-pointer",onClick:g},{default:t(()=>[c(m).menuCollapse?(s(),f(N,{key:0})):(s(),f(P,{key:1}))]),_:1})])):d("",!0),o(F,{mode:"horizontal","default-active":u.$route.matched[0].path,ellipsis:!1,router:""},{default:t(()=>[(s(!0),n($,null,I(u.$router.options.routes,a=>(s(),n($,null,[a.meta?.hide?d("",!0):(s(),f(U,{key:a.path,index:a.path},{title:t(()=>[a.meta.icon?(s(),f(p,{key:0},{default:t(()=>[o(ze,{name:a.meta.icon},null,8,["name"])]),_:2},1024)):d("",!0),r("span",null,k(a.meta?.title??a.path),1)]),_:2},1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),r("div",yo,[o(C,null,{default:t(()=>[c(i).token?(s(),n($,{key:0},[o(H,{class:"cursor-pointer"},{dropdown:t(()=>[o(V,null,{default:t(()=>[o(M,null,{default:t(()=>[o(S,{to:"/account"},{default:t(()=>[o(p,null,{default:t(()=>[o(O)]),_:1}),bo]),_:1})]),_:1}),o(M,{divided:"",onClick:L},{default:t(()=>[o(p,null,{default:t(()=>[o(j)]),_:1}),ko]),_:1})]),_:1})]),default:t(()=>[o(C,null,{default:t(()=>[o(p,{size:18},{default:t(()=>[r("img",{src:c(i).avatar,class:"h-full"},null,8,$o)]),_:1}),r("span",null,k(c(i).name),1),o(p,null,{default:t(()=>[o(B)]),_:1})]),_:1})]),_:1}),c(m).roleSwitchable&&c(i).currentRole?(s(),f(H,{key:0,class:"cursor-pointer",onCommand:y},{dropdown:t(()=>[o(V,null,{default:t(()=>[(s(!0),n($,null,I(c(i).roles,a=>(s(),f(M,{key:a.number,command:a.number},{default:t(()=>[z(k(a.name),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:t(()=>[o(C,null,{default:t(()=>[r("span",null,k(c(i).roles.find(a=>a.number===c(i).currentRole)?.name),1),o(p,null,{default:t(()=>[o(B)]),_:1})]),_:1})]),_:1})):d("",!0)],64)):(s(),f(C,{key:1,size:20},{default:t(()=>[o(A,{type:"info"},{default:t(()=>[o(S,{class:"router-link",to:{path:"/login",query:{redirect:u.$route.fullPath}}},{default:t(()=>[zo]),_:1},8,["to"])]),_:1}),o(A,{type:"info"},{default:t(()=>[o(S,{class:"router-link",to:"/register"},{default:t(()=>[Co]),_:1})]),_:1})]),_:1})),o(p,{size:18,class:"cursor-pointer",onClick:h[0]||(h[0]=a=>l.toggle())},{default:t(()=>[o(Q)]),_:1})]),_:1})])]),o(Z,{modelValue:l.show,"onUpdate:modelValue":h[1]||(h[1]=a=>l.show=a),title:"\u9875\u9762\u914D\u7F6E","append-to-body":"","destroy-on-close":"",size:"auto"},{default:t(()=>[o(Ee)]),_:1},8,["modelValue"])],64)}}};export{Qo as default};
