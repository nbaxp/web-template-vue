import{a0 as h,k,ac as w,p as y,R as c,d as e,w as t,L as b,o as x,ae as i,af as V,g as v,h as R}from"./index.62ba39cc.js";import{b as E}from"./el-select.452a58a2.js";import{b as B}from"./el-button.e1898b92.js";import{E as C,_ as N}from"./app-form.3865b92f.js";import U from"./header-logo.74aa2bc2.js";import"./index.cf211c5a.js";/* empty css                */import"./el-overlay.40aa64e5.js";import"./vnode.3a45fb47.js";import"./el-link.2ab4aaa7.js";import"./svg-icon.13975fb2.js";import"./aria.71131d37.js";import"./refs.e595911e.js";import"./el-space.bbabd2f8.js";const q={class:"center"},M={style:{width:"320px","margin-top":"-160px"}},$={class:"between w-full"},I=i("\u5FD8\u8BB0\u5BC6\u7801"),S=i("\u767B\u5F55"),j=i("\u6CE8\u518C\u8D26\u53F7"),Y={__name:"login",setup(z){const r=h({action:"user/login",data:null,schema:{title:"\u767B\u5F55",type:"object",properties:{userName:{type:"string",default:null,placeholder:"\u7528\u6237\u540D",prefix:"user",rules:[{required:!0,trigger:"change"}]},password:{type:"string",default:null,placeholder:"\u5BC6\u7801",prefix:"lock",input:"password",showPassword:!0,rules:[{required:!0,trigger:"change"}]},rememberMe:{skip:!0,default:!1}}}}),u=k(null),d=V(),_=v(),m=w(),f=async l=>{console.log(l);const{token:o}=l;await m.login(o),await m.setUserInfo(),d.push({path:_.query.redirect??"/"})};return(l,o)=>{const g=C,a=B,p=R("router-link"),n=E;return x(),y("div",q,[c("div",M,[e(N,{ref_key:"formRef",ref:u,modelValue:r,"onUpdate:modelValue":o[2]||(o[2]=s=>b(r)?r.value=s:null),class:"text-center",onAfter:f},{header:t(()=>[e(U,{class:"m-4"})]),footer:t(()=>[e(n,null,{default:t(()=>[c("div",$,[e(g,{modelValue:r.data.rememberMe,"onUpdate:modelValue":o[0]||(o[0]=s=>r.data.rememberMe=s),label:"\u8BB0\u4F4F\u5BC6\u7801",size:"large"},null,8,["modelValue"]),e(p,{to:"/forgot-password"},{default:t(()=>[e(a,{type:"primary",link:""},{default:t(()=>[I]),_:1})]),_:1})])]),_:1}),e(n,null,{default:t(()=>[e(a,{type:"primary",class:"w-full",onClick:o[1]||(o[1]=s=>u.value.submit())},{default:t(()=>[S]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(p,{to:"/register",class:"w-full text-center"},{default:t(()=>[e(a,{type:"primary",link:""},{default:t(()=>[j]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])}}};export{Y as default};
