import{E as w,_ as h}from"./app-form.319bbf02.js";import{Z as y,k as x,a4 as b,p as V,O as c,d as e,w as t,F as v,o as E,a6 as i,a7 as R,g as B,h as C}from"./index.1e692261.js";import{b as N}from"./el-select.3aaed70f.js";import{E as U}from"./el-button.69f0df7c.js";import q from"./header-logo.dc016a95.js";import"./app-input-editor.82b3466e.js";import"./debounce.420a5b4a.js";import"./svg-icon.a3d9bbaf.js";/* empty css                */import"./el-link.4571d607.js";import"./vnode.04055651.js";import"./el-popper.e6a0cfe6.js";import"./index.2f4afd98.js";import"./index.09be628b.js";import"./refs.d2a66b7c.js";import"./aria.71131d37.js";import"./el-space.1365c594.js";const M={class:"center"},$={style:{width:"320px","margin-top":"-160px"}},F={class:"between w-full"},I=i("\u5FD8\u8BB0\u5BC6\u7801"),S=i("\u767B\u5F55"),j=i("\u6CE8\u518C\u8D26\u53F7"),oe={__name:"login",setup(z){const r=y({action:"user/login",data:null,schema:{title:"\u767B\u5F55",type:"object",properties:{userName:{type:"string",title:"\u7528\u6237\u540D",prefix:"user",rules:[{required:!0,trigger:"change"}]},password:{type:"string",title:"\u5BC6\u7801",prefix:"lock",input:"password",showPassword:!0,rules:[{required:!0,trigger:"change"}]},rememberMe:{skip:!0,default:!1}}}}),m=x(null),_=R(),d=B(),u=b(),f=async a=>{console.log(a);const{token:o}=a;await u.login(o),await u.setUserInfo(),_.push({path:d.query.redirect??"/"})};return(a,o)=>{const g=w,l=U,p=C("router-link"),n=N,k=h;return E(),V("div",M,[c("div",$,[e(k,{ref_key:"formRef",ref:m,modelValue:r,"onUpdate:modelValue":o[2]||(o[2]=s=>v(r)?r.value=s:null),class:"text-center",onAfter:f},{header:t(()=>[e(q,{class:"m-4"})]),footer:t(()=>[e(n,null,{default:t(()=>[c("div",F,[e(g,{modelValue:r.data.rememberMe,"onUpdate:modelValue":o[0]||(o[0]=s=>r.data.rememberMe=s),label:"\u8BB0\u4F4F\u5BC6\u7801",size:"large"},null,8,["modelValue"]),e(p,{to:"/forgot-password"},{default:t(()=>[e(l,{type:"primary",link:""},{default:t(()=>[I]),_:1})]),_:1})])]),_:1}),e(n,null,{default:t(()=>[e(l,{type:"primary",class:"w-full",onClick:o[1]||(o[1]=s=>m.value.submit())},{default:t(()=>[S]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(p,{to:"/register",class:"w-full text-center"},{default:t(()=>[e(l,{type:"primary",link:""},{default:t(()=>[j]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])}}};export{oe as default};
