import{V as h,k,a0 as w,p as y,J as d,d as e,w as t,a6 as x,o as b,a2 as u,a3 as V,g as v,h as E}from"./index.70f90e7f.js";import{b as R}from"./el-form-item.076284d8.js";import{E as B}from"./el-button.714d6015.js";import{E as C}from"./el-checkbox.7b603d84.js";import{_ as N}from"./app-form.caaa6f7b.js";import U from"./header-logo.e47f133d.js";import"./index.012ccabd.js";/* empty css                */import"./svg-icon.5594b61b.js";import"./el-space.b126809b.js";import"./vnode.fb7bb6c8.js";const q={class:"center"},M={style:{width:"320px","margin-top":"-160px"}},$={class:"between w-full"},I=u("\u5FD8\u8BB0\u5BC6\u7801"),S=u("\u767B\u5F55"),T=u("\u6CE8\u518C\u8D26\u53F7"),Q={__name:"login",setup(j){const r=h({action:"user/login",data:null,schema:{title:"\u767B\u5F55",type:"object",properties:{userName:{type:"string",default:null,placeholder:"\u7528\u6237\u540D",prefix:"user",rules:[{required:!0,trigger:"change"}]},password:{type:"string",default:null,placeholder:"\u5BC6\u7801",prefix:"lock",inputType:"password",showPassword:!0,rules:[{required:!0,trigger:"change"}]},rememberMe:{skip:!0,default:!1}}}}),i=k(null),c=V(),_=v(),m=w(),f=async l=>{console.log(l);const{token:o}=l;await m.login(o),await m.setUserInfo(),c.push({path:_.query.redirect??"/"})};return(l,o)=>{const g=C,a=B,p=E("router-link"),n=R;return b(),y("div",q,[d("div",M,[e(N,{ref_key:"formRef",ref:i,modelValue:r,"onUpdate:modelValue":o[2]||(o[2]=s=>x(r)?r.value=s:null),class:"text-center",onAfter:f},{header:t(()=>[e(U,{class:"m-4"})]),footer:t(()=>[e(n,null,{default:t(()=>[d("div",$,[e(g,{modelValue:r.data.rememberMe,"onUpdate:modelValue":o[0]||(o[0]=s=>r.data.rememberMe=s),label:"\u8BB0\u4F4F\u5BC6\u7801",size:"large"},null,8,["modelValue"]),e(p,{to:"/forgot-password"},{default:t(()=>[e(a,{type:"primary",link:""},{default:t(()=>[I]),_:1})]),_:1})])]),_:1}),e(n,null,{default:t(()=>[e(a,{type:"primary",class:"w-full",onClick:o[1]||(o[1]=s=>i.value.submit())},{default:t(()=>[S]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(p,{to:"/register",class:"w-full text-center"},{default:t(()=>[e(a,{type:"primary",link:""},{default:t(()=>[T]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])}}};export{Q as default};
