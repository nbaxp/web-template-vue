import{cn as E,co as N,D as M,C as j,k as T,m as D,Z as P,d as u,cp as V,cq as y,cr as h,cs as U,i as w,ct as z,cu as S,cv as F,at as G,c as H,cw as K,aI as L,a0 as Y,p as B,R as Z,w as C,U as I,o as _,ad as q,b as J,ae as Q,aa as W,h as X}from"./index.59515e77.js";import{u as ee,a as te,B as ae,r as oe,b as ne,c as re,d as ce,I as se}from"./index.9308f91c.js";import{_ as le}from"./_plugin-vue_export-helper.cdc0426e.js";function ie(e,{args:o=[],done:t,canceled:a}){if(e){const r=e.apply(null,o);E(r)?r.then(l=>{l?t():a&&a()}).catch(N):r?t():a&&a()}else t()}const ue=Symbol();function de(e){const o=M(ue,null);o&&j(o,t=>{t&&e()})}const me=(e,o)=>{const t=T(),a=()=>{t.value=ee(e).height};return D(()=>{if(P(a),o)for(let r=1;r<=3;r++)setTimeout(a,100*r)}),de(()=>P(a)),t};function fe(e,o){const t=me(e,!0);return a=>u("div",{class:o("placeholder"),style:{height:t.value?`${t.value}px`:void 0}},[a()])}const[A,k]=V("tabbar"),be={route:Boolean,fixed:y,border:y,zIndex:h,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:U(0),safeAreaInsetBottom:{type:Boolean,default:null}},O=Symbol(A);var ve=w({name:A,props:be,emits:["change","update:modelValue"],setup(e,{emit:o,slots:t}){const a=T(),{linkChildren:r}=te(O),l=fe(a,k),d=()=>{var c;return(c=e.safeAreaInsetBottom)!=null?c:e.fixed},n=()=>{var c;const{fixed:s,zIndex:i,border:f}=e;return u("div",{ref:a,role:"tablist",style:z(i),class:[k({fixed:s}),{[ae]:f,"van-safe-area-bottom":d()}]},[(c=t.default)==null?void 0:c.call(t)])};return r({props:e,setActive:(c,s)=>{ie(e.beforeChange,{args:[c],done(){o("update:modelValue",c),o("change",c),s()}})}}),()=>e.fixed&&e.placeholder?l(n):n()}});const _e=S(ve),[pe,p]=V("tabbar-item"),he=F({},oe,{dot:Boolean,icon:String,name:h,badge:h,badgeProps:Object,iconPrefix:String});var ge=w({name:pe,props:he,emits:["click"],setup(e,{emit:o,slots:t}){const a=ne(),r=G().proxy,{parent:l,index:d}=re(O);if(!l)return;const n=H(()=>{var s;const{route:i,modelValue:f}=l.props;if(i&&"$route"in r){const{$route:v}=r,{to:b}=e,m=K(b)?b:{path:b};return!!v.matched.find(x=>{const R="path"in m&&m.path===x.path,$="name"in m&&m.name===x.name;return R||$})}return((s=e.name)!=null?s:d.value)===f}),g=s=>{var i;n.value||l.setActive((i=e.name)!=null?i:d.value,a),o("click",s)},c=()=>{if(t.icon)return t.icon({active:n.value});if(e.icon)return u(se,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var s;const{dot:i,badge:f}=e,{activeColor:v,inactiveColor:b}=l.props,m=n.value?v:b;return u("div",{role:"tab",class:p({active:n.value}),style:{color:m},tabindex:0,"aria-selected":n.value,onClick:g},[u(ce,L({dot:i,class:p("icon"),content:f},e.badgeProps),{default:c}),u("div",{class:p("text")},[(s=t.default)==null?void 0:s.call(t,{active:n.value})])])}}});const xe=S(ge);const Pe={class:"container"},ye={__name:"layout",setup(e){const o=Y({current:"home",items:[{name:"home",to:"/home",icon:"wap-home-o",label:"\u9996\u9875"},{name:"category",to:"/category",icon:"apps-o",label:"\u5206\u7C7B"},{name:"worth",to:"/worth",icon:"bag-o",label:"\u503C\u5F97\u4E70"},{name:"cart",to:"/cart",icon:"shopping-cart-o",label:"\u8D2D\u7269\u8F66"},{name:"user",to:"/user",icon:"user-o",label:"\u6211\u7684"}]});return(t,a)=>{const r=X("router-view"),l=xe,d=_e;return _(),B(I,null,[Z("div",Pe,[u(r)]),u(d,{modelValue:o.current,"onUpdate:modelValue":a[0]||(a[0]=n=>o.current=n),route:""},{default:C(()=>[(_(!0),B(I,null,q(o.items,n=>(_(),J(l,{key:n.to,name:n.name,to:n.to,icon:n.icon},{default:C(()=>[Q(W(n.label),1)]),_:2},1032,["name","to","icon"]))),128))]),_:1},8,["modelValue"])],64)}}},ke=le(ye,[["__scopeId","data-v-8a3604ce"]]);export{ke as default};
