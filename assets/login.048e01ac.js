import{E as y,_ as x}from"./app-form.832e5c30.js";import{Z as b,i as h,a4 as V,q as v,N as d,d as e,w as t,e as a,F as E,o as N,a6 as m,a7 as R,g as q,h as B}from"./index.bd10bac3.js";import{b as C}from"./el-select.71c8dc86.js";import{E as U}from"./el-button.651c63f4.js";import M from"./header-logo.0ccd0158.js";import"./app-input-editor.11c61a77.js";import"./debounce.29dda0c1.js";import"./svg-icon.441a2e72.js";/* empty css                */import"./el-link.2b17af65.js";import"./vnode.2f8d4e0e.js";import"./el-popper.31ce43ec.js";import"./index.7898061d.js";import"./index.eb8b9e5b.js";import"./refs.47b7c97b.js";import"./aria.71131d37.js";import"./el-space.1e31618d.js";const $={class:"center"},F={style:{width:"320px","margin-top":"-160px"}},I={class:"between w-full"},ee={__name:"login",setup(S){const r=b({action:"user/login",data:null,schema:{title:"\u767B\u5F55",type:"object",properties:{userName:{type:"string",title:"\u7528\u6237\u540D",prefix:"user",rules:[{required:!0,trigger:"change"}]},password:{type:"string",title:"\u5BC6\u7801",prefix:"lock",input:"password",showPassword:!0,rules:[{required:!0,trigger:"change"}]},rememberMe:{skip:!0,default:!1}}}}),u=h(null),f=R(),_=q(),p=V(),g=async l=>{console.log(l);const{token:o}=l;await p.login(o),await p.setUserInfo(),f.push({path:_.query.redirect??"/"})};return(l,o)=>{const w=y,n=U,c=B("router-link"),i=C,k=x;return N(),v("div",$,[d("div",F,[e(k,{ref_key:"formRef",ref:u,modelValue:a(r),"onUpdate:modelValue":o[2]||(o[2]=s=>E(r)?r.value=s:null),class:"text-center",onAfter:g},{header:t(()=>[e(M,{class:"m-4"})]),footer:t(()=>[e(i,null,{default:t(()=>[d("div",I,[e(w,{modelValue:a(r).data.rememberMe,"onUpdate:modelValue":o[0]||(o[0]=s=>a(r).data.rememberMe=s),label:"\u8BB0\u4F4F\u5BC6\u7801",size:"large"},null,8,["modelValue"]),e(c,{to:"/forgot-password"},{default:t(()=>[e(n,{type:"primary",link:""},{default:t(()=>[m("\u5FD8\u8BB0\u5BC6\u7801")]),_:1})]),_:1})])]),_:1}),e(i,null,{default:t(()=>[e(n,{type:"primary",class:"w-full",onClick:o[1]||(o[1]=s=>a(u).submit())},{default:t(()=>[m("\u767B\u5F55")]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(c,{to:"/register",class:"w-full text-center"},{default:t(()=>[e(n,{type:"primary",link:""},{default:t(()=>[m("\u6CE8\u518C\u8D26\u53F7")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])}}};export{ee as default};
